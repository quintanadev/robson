{% extends 'base.html' %}
{% load static %}

{% block site-title %}Dashboard{% endblock %}

{% block page-title %}
<img src="{% static 'images/logo-nucleo.png' %}" alt="user-image" class="avatar-lg">
<img src="{% static 'images/logo-nucleo-sm.png' %}" alt="logo" style="width: 100px;margin-right: 0.75rem;" class="image-dark">
<img src="{% static 'images/logo-nucleo-sm-dark.png' %}" alt="logo" style="width: 100px;margin-right: 0.75rem;" class="image-light">
 Tempo Real | Whatsapp
{% endblock %}

{% block page-functions %}
<li class="d-none d-md-inline-block me-2">
  <span>
    <span class="date-update mx-2"></span><i class="fe-clock font-16"></i>
  </span>
</li>
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-6">
    <div class="card widget-inline">
      <div class="card-body">
        <div class="row">
          <div class="col-sm-4 col-xl-4">
            <div class="p-2 text-center">
              <i class="mdi mdi-whatsapp text-success mdi-24px"></i>
              <h3><span data-plugin="counterup" class="tickets-fila">0</span></h3>
              <p class="text-muted font-15 mb-0">Tickets na Fila</p>
            </div>
          </div>
          
          <div class="col-sm-4 col-xl-4">
            <div class="p-2 text-center">
              <i class="mdi mdi-account-clock text-info mdi-24px"></i>
              <h3><span data-plugin="counterup" class="tempo-fila">0</span></h3>
              <p class="text-muted font-15 mb-0">Tempo na Fila</p>
            </div>
          </div>

          <div class="col-sm-4 col-xl-4">
            <div class="p-2 text-center">
              <i class="mdi mdi-account-question text-primary mdi-24px"></i>
              <h3><span data-plugin="counterup" class="tempo-resposta">0</span></h3>
              <p class="text-muted font-15 mb-0">1° Resposta</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-6">
    <div class="card widget-inline">
      <div class="card-body">
        <div class="row">
          <div class="col-sm-4 col-xl-4">
            <div class="p-2 text-center">
              <i class="mdi mdi-account-multiple-check text-success mdi-24px"></i>
              <h3><span data-plugin="counterup" class="agentes-online">0</span></h3>
              <p class="text-muted font-15 mb-0">Online</p>
            </div>
          </div>

          <div class="col-sm-4 col-xl-4">
            <div class="p-2 text-center">
              <i class="mdi mdi-account-alert text-warning mdi-24px"></i>
              <h3><span data-plugin="counterup" class="agentes-pausa">0</span></h3>
              <p class="text-muted font-15 mb-0">Em Pausa</p>
            </div>
          </div>

          <div class="col-sm-4 col-xl-4">
            <div class="p-2 text-center">
              <i class="mdi mdi-account-remove text-Secondary mdi-24px"></i>
              <h3><span data-plugin="counterup" class="agentes-invisiveis">0</span></h3>
              <p class="text-muted font-15 mb-0">Invisíveis</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-6 col-xl-6">
    <div class="row">
      <div class="col-md-6 col-xl-6">
        <div class="card">
          <div class="card-body">
            <h4 class="mt-0 font-16">Tickets Por Agente</h4>
            <h2 class="text-success my-3 text-center"><span data-plugin="counterup" id="tickets-por-agente">0</span></h2>
            <p class="text-muted mb-0">
              Mínimo: <span data-plugin="counterup" id="minimo-por-agente">0</span>
              <span class="float-end">Máximo: <span data-plugin="counterup" id="maximo-por-agente">0</span></span>
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-xl-6">
        <div class="card" id="card-negocios">
          <div class="card-body">
            <h4 class="mt-0 font-16">Negócios</h4>
            <h2 class="text-success my-3 text-center"><span data-plugin="counterup" id="negocios">0</span></h2>
            <p class="text-muted mb-0"><span class="float-end">Conversão: <span data-plugin="counterup" id="percentual-conversao">0</span>% </span></p>
          </div>
        </div>
      </div>
      
      <div class="col-md-6 col-xl-6">
        <div class="card" id="card-tempo-atendimento">
          <div class="card-body">
            <i class="fa fa-info-circle text-muted float-end" data-bs-container="#card-tempo-atendimento" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Duração média dos atendimentos fechados no dia"></i>
            <h4 class="mt-0 font-16">Tempo de Atendimento</h4>
            <h2 class="text-success my-3 text-center"><span data-plugin="counterup" id="tempo-atendimento"></span></h2>
            <p class="text-muted mb-0"><span class="float-end"> <span data-plugin="counterup" id="">0</span>% </span></p>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-xl-6">
        <div class="card" id="card-tempo-resposta">
          <div class="card-body">
            <i class="fa fa-info-circle text-muted float-end" data-bs-container="#card-tempo-resposta" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Tempo médio que os atendentes levam para responder as mensagens dos clientes"></i>
            <h4 class="mt-0 font-16">Tempo de Resposta</h4>
            <h2 class="text-success my-3 text-center"><span data-plugin="counterup" id="tempo-resposta">0</span></h2>
            <p class="text-muted mb-0"><span class="float-end"> <span data-plugin="counterup" id="">0</span>% </span></p>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-xl-6">
        <div class="card" id="card-tempo-espera">
          <div class="card-body">
            <i class="fa fa-info-circle text-muted float-end" data-bs-container="#card-tempo-espera" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Tempo médio que os clientes ficaram aguardando desde o transbordo do chatbot até serem atendidos"></i>
            <h4 class="mt-0 font-16">Tempo de Espera</h4>
            <h2 class="text-success my-3 text-center"><span data-plugin="counterup" id="tempo-espera">0</span></h2>
            <p class="text-muted mb-0"><span class="float-end"> <span data-plugin="counterup" id="">0</span>% </span></p>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-xl-6">
        <div class="card" id="card-tempo-primeira-resposta">
          <div class="card-body">
            <i class="fa fa-info-circle text-muted float-end" data-bs-container="#card-tempo-primeira-resposta" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Total de tickets aguardando para serem atribuídos a um atendente"></i>
            <h4 class="mt-0 font-16">Tempo Para 1° Resposta</h4>
            <h2 class="text-success my-3 text-center"><span data-plugin="counterup" id="tempo-primeira-resposta">0</span></h2>
            <p class="text-muted mb-0"><span class="float-end"> <span data-plugin="counterup" id="">0</span>% </span></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-6">
    <div class="row">
      <div class="col-6">
        <div class="widget-rounded-circle border card card-em-atendimento py-3">
          <div class="card-body">
            <div class="row">
              <div class="col-6">
                <div class="avatar-lg rounded-circle bg-soft-blue border-blue border">
                  <i class="fe-airplay font-22 avatar-title text-blue"></i>
                </div>
              </div>
              <div class="col-6">
                <div class="text-end">
                  <h3 class="text-dark mt-1"><span data-plugin="counterup" id="tickets-em-atendimento">0</span></h3>
                  <p class="text-muted mb-1 text-truncate">Em Atendimento</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-6">
        <div class="widget-rounded-circle border card card-volume py-3">
          <div class="card-body">
            <div class="row">
              <div class="col-6">
                <div class="avatar-lg rounded-circle bg-soft-secondary border-secondary border">
                  <i class="fe-check-circle font-22 avatar-title text-secondary"></i>
                </div>
              </div>
              <div class="col-6">
                <div class="text-end">
                  <h3 class="text-dark mt-1"><span data-plugin="counterup" id="tickets-fechados">0</span></h3>
                  <p class="text-muted mb-1 text-truncate">Tickets Fechados</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-body" id="card-nps">
            <i class="fa fa-info-circle text-muted float-end" data-bs-container="#card-nps" data-bs-toggle="tooltip" data-bs-placement="left" title="
              Legenda das zonas do NPS:&nbsp&nbsp&nbsp
              De -100 até 00: Crítica&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
              De 01 até 50: Aperfeiçoamento
              De 51 até 75: Qualidade&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
              De 76 até 100: Excelência&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
            "></i>
            <h4 class="header-title mb-0">Net Promoter Score</h4>
            <div class="row">
              <div class="col-5 text-center">
                <div id="chart-nps" class="pt-3"></div>
                <h5 class="text-muted mt-0" id="nps-zona">...</h5>
              </div>
              <div class="col-7">
                <div id="chart-nps-promotor" class="apex-charts pt-3 pb-0 my-0"></div>
                <div id="chart-nps-neutro" class="apex-charts pt-3 pb-0 my-0"></div>
                <div id="chart-nps-detrator" class="apex-charts pt-3 pb-0 my-0"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block css %}
{% endblock %}

{% block script %}
<script src="{% static 'libs/apexcharts/apexcharts.min.js' %}"></script>
<script src="{% static 'js/pages/whatsapp.js' %}"></script>
{% endblock %}